<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Venta de Entradas del Teatro</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        h1 {
            color: #2c3e50;
            text-align: center;
        }
        .output {
            background-color: #f9f9f9;
            border: 1px solid #ddd;
            padding: 15px;
            border-radius: 5px;
            white-space: pre-line;
            font-family: monospace;
        }
        .section {
            margin-bottom: 20px;
        }
        .error {
            color: #e74c3c;
        }
    </style>
</head>
<body>
    <h1>Sistema de Venta de Entradas del Teatro</h1>
    
    <div class="section">
        <h2>Salida del Programa:</h2>
        <div id="output" class="output">Ejecutando...</div>
    </div>

    <script>
        class Teatro {
            static PRECIO_ADULTO = 10;
            static PRECIO_NINO = 5;
            
            constructor() {
                this.entradas = {
                    adulto: { cantidad: 0, precio: Teatro.PRECIO_ADULTO },
                    niño: { cantidad: 0, precio: Teatro.PRECIO_NINO }
                };
                this.totalRecaudado = 0;
            }

            configurarInventario(adultos, ninos) {
                this.entradas.adulto.cantidad = adultos;
                this.entradas.niño.cantidad = ninos;
            }

            procesarFamilia(familia) {
                if (this.entradas.adulto.cantidad < familia.adultos || this.entradas.niño.cantidad < familia.ninos) {
                    throw new Error(`No hay suficientes entradas disponibles para la familia ${familia.apellido}`);
                }

                const total = (familia.adultos * this.entradas.adulto.precio) + 
                             (familia.ninos * this.entradas.niño.precio);
                
                this.entradas.adulto.cantidad -= familia.adultos;
                this.entradas.niño.cantidad -= familia.ninos;
                this.totalRecaudado += total;

                return total;
            }

            getTotalRecaudado() {
                return this.totalRecaudado;
            }

            mostrarInventario() {
                return `\nInventario actual:\n` +
                       `- Entradas para adultos: ${this.entradas.adulto.cantidad} ($${this.entradas.adulto.precio} c/u)\n` +
                       `- Entradas para niños: ${this.entradas.niño.cantidad} ($${this.entradas.niño.precio} c/u)`;
            }
        }

        function main() {
            const output = [];
            
            function log(message) {
                output.push(message);
                document.getElementById('output').textContent = output.join('\n');
            }

            log('=== SISTEMA DE VENTA DE ENTRADAS DEL TEATRO ===\n');
            
            const teatro = new Teatro();
            
            const ENTRADAS_ADULTOS = 10;
            const ENTRADAS_NINOS = 20;
            teatro.configurarInventario(ENTRADAS_ADULTOS, ENTRADAS_NINOS);
            
            log('Inventario inicial configurado:');
            log(`- Entradas para adultos: ${ENTRADAS_ADULTOS} ($${Teatro.PRECIO_ADULTO} c/u)`);
            log(`- Entradas para niños: ${ENTRADAS_NINOS} ($${Teatro.PRECIO_NINO} c/u)\n`);
            
            const familias = [
                { apellido: 'Gil', adultos: 2, ninos: 3 },
                { apellido: 'Ramos', adultos: 1, ninos: 5 },
                { apellido: 'Pérez', adultos: 4, ninos: 0 },
                { apellido: 'Carmona', adultos: 1, ninos: 2 }
            ];

            log('--- Procesando ventas de entradas ---');
            
            for (const familia of familias) {
                try {
                    const total = teatro.procesarFamilia(familia);
                    log(`La familia ${familia.apellido} debe pagar $${total}`);
                } catch (error) {
                    log(`Error: ${error.message}`);
                }
            }

            log('\n--- Resumen final ---');
            log(`Total recaudado: $${teatro.getTotalRecaudado()}`);
            
            log('\n--- Inventario final ---');
            log(teatro.mostrarInventario());
        }

        window.onload = main;
    </script>
</body>
</html>
